{"ast":null,"code":"import { errorPrefix } from \"./Constants\";\nfunction initDelta(value) {\n  let fpsLimit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 60;\n  let smooth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  return {\n    value,\n    factor: smooth ? 60 / fpsLimit : 60 * value / 1000\n  };\n}\nexport class FrameManager {\n  constructor(container) {\n    this.container = container;\n  }\n  async nextFrame(timestamp) {\n    try {\n      const container = this.container;\n      if (!container.smooth && container.lastFrameTime !== undefined && timestamp < container.lastFrameTime + 1000 / container.fpsLimit) {\n        container.draw(false);\n        return;\n      }\n      container.lastFrameTime ??= timestamp;\n      const delta = initDelta(timestamp - container.lastFrameTime, container.fpsLimit, container.smooth);\n      container.addLifeTime(delta.value);\n      container.lastFrameTime = timestamp;\n      if (delta.value > 1000) {\n        container.draw(false);\n        return;\n      }\n      await container.particles.draw(delta);\n      if (!container.alive()) {\n        container.destroy();\n        return;\n      }\n      if (container.getAnimationStatus()) {\n        container.draw(false);\n      }\n    } catch (e) {\n      console.error(`${errorPrefix} in animation loop`, e);\n    }\n  }\n}","map":{"version":3,"names":["errorPrefix","initDelta","value","fpsLimit","arguments","length","undefined","smooth","factor","FrameManager","constructor","container","nextFrame","timestamp","lastFrameTime","draw","delta","addLifeTime","particles","alive","destroy","getAnimationStatus","e","console","error"],"sources":["/Users/michaelgedion/Documents/facerecognition/node_modules/tsparticles-engine/esm/Core/Utils/FrameManager.js"],"sourcesContent":["import { errorPrefix } from \"./Constants\";\nfunction initDelta(value, fpsLimit = 60, smooth = false) {\n    return {\n        value,\n        factor: smooth ? 60 / fpsLimit : (60 * value) / 1000,\n    };\n}\nexport class FrameManager {\n    constructor(container) {\n        this.container = container;\n    }\n    async nextFrame(timestamp) {\n        try {\n            const container = this.container;\n            if (!container.smooth &&\n                container.lastFrameTime !== undefined &&\n                timestamp < container.lastFrameTime + 1000 / container.fpsLimit) {\n                container.draw(false);\n                return;\n            }\n            container.lastFrameTime ??= timestamp;\n            const delta = initDelta(timestamp - container.lastFrameTime, container.fpsLimit, container.smooth);\n            container.addLifeTime(delta.value);\n            container.lastFrameTime = timestamp;\n            if (delta.value > 1000) {\n                container.draw(false);\n                return;\n            }\n            await container.particles.draw(delta);\n            if (!container.alive()) {\n                container.destroy();\n                return;\n            }\n            if (container.getAnimationStatus()) {\n                container.draw(false);\n            }\n        }\n        catch (e) {\n            console.error(`${errorPrefix} in animation loop`, e);\n        }\n    }\n}\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,aAAa;AACzC,SAASC,SAASA,CAACC,KAAK,EAAiC;EAAA,IAA/BC,QAAQ,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EAAA,IAAEG,MAAM,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;EACnD,OAAO;IACHF,KAAK;IACLM,MAAM,EAAED,MAAM,GAAG,EAAE,GAAGJ,QAAQ,GAAI,EAAE,GAAGD,KAAK,GAAI;EACpD,CAAC;AACL;AACA,OAAO,MAAMO,YAAY,CAAC;EACtBC,WAAWA,CAACC,SAAS,EAAE;IACnB,IAAI,CAACA,SAAS,GAAGA,SAAS;EAC9B;EACA,MAAMC,SAASA,CAACC,SAAS,EAAE;IACvB,IAAI;MACA,MAAMF,SAAS,GAAG,IAAI,CAACA,SAAS;MAChC,IAAI,CAACA,SAAS,CAACJ,MAAM,IACjBI,SAAS,CAACG,aAAa,KAAKR,SAAS,IACrCO,SAAS,GAAGF,SAAS,CAACG,aAAa,GAAG,IAAI,GAAGH,SAAS,CAACR,QAAQ,EAAE;QACjEQ,SAAS,CAACI,IAAI,CAAC,KAAK,CAAC;QACrB;MACJ;MACAJ,SAAS,CAACG,aAAa,KAAKD,SAAS;MACrC,MAAMG,KAAK,GAAGf,SAAS,CAACY,SAAS,GAAGF,SAAS,CAACG,aAAa,EAAEH,SAAS,CAACR,QAAQ,EAAEQ,SAAS,CAACJ,MAAM,CAAC;MAClGI,SAAS,CAACM,WAAW,CAACD,KAAK,CAACd,KAAK,CAAC;MAClCS,SAAS,CAACG,aAAa,GAAGD,SAAS;MACnC,IAAIG,KAAK,CAACd,KAAK,GAAG,IAAI,EAAE;QACpBS,SAAS,CAACI,IAAI,CAAC,KAAK,CAAC;QACrB;MACJ;MACA,MAAMJ,SAAS,CAACO,SAAS,CAACH,IAAI,CAACC,KAAK,CAAC;MACrC,IAAI,CAACL,SAAS,CAACQ,KAAK,CAAC,CAAC,EAAE;QACpBR,SAAS,CAACS,OAAO,CAAC,CAAC;QACnB;MACJ;MACA,IAAIT,SAAS,CAACU,kBAAkB,CAAC,CAAC,EAAE;QAChCV,SAAS,CAACI,IAAI,CAAC,KAAK,CAAC;MACzB;IACJ,CAAC,CACD,OAAOO,CAAC,EAAE;MACNC,OAAO,CAACC,KAAK,CAAE,GAAExB,WAAY,oBAAmB,EAAEsB,CAAC,CAAC;IACxD;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}